<!-- app/views/products/index.html.erb -->
<h1>Products by Category</h1>

<%= select_tag :category, options_from_collection_for_select(Category.all, :id, :category_name), prompt: "Choose a category" %>
<%= button_to "Filter", products_path(category: params[:category]) %>

<div class="products-list">
  <% @products.each do |product| %>
    <div class="product-item">
      <h3><%= link_to product.product_name, product_path(product) %></h3>
      <p><%= number_to_currency(product.price) %></p>
      <%= image_tag url_for(product.image), size: "200x200" if product.image.attached? %>
    </div>
  <% end %>
</div>

<%= will_paginate @products %>
